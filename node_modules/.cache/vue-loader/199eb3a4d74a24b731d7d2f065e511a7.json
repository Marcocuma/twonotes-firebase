{"remainingRequest":"/home/administrador/Documentos/twonotes-firebase/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/administrador/Documentos/twonotes-firebase/src/components/mainNota.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/administrador/Documentos/twonotes-firebase/src/components/mainNota.vue","mtime":1580981682646},{"path":"/home/administrador/Documentos/twonotes-firebase/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/administrador/Documentos/twonotes-firebase/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/administrador/Documentos/twonotes-firebase/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/administrador/Documentos/twonotes-firebase/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgppbXBvcnQgbGlzdGEgZnJvbSAnLi9saXN0YS52dWUnCmltcG9ydCB7ZGJ9IGZyb20gJy4uLy4uL2RiLmpzJwppbXBvcnQgZmlyZWJhc2UgZnJvbSAnZmlyZWJhc2UnCiAgZXhwb3J0IGRlZmF1bHQgIHsKICAgIG5hbWU6ICdtYWluLW5vdGEnLAogICAgY29tcG9uZW50czogewogICAgICBsaXN0YQogICAgfSwKICAgIHByb3BzOiBbXSwKICAgIG1vdW50ZWQgKCkgewogICAgfSwKICAgIHVwZGF0ZWQoKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5ub3Rhcz1KU09OLnN0cmluZ2lmeSh0aGlzLm5vdGFzKTsKICAgIH0sCiAgICBkYXRhICgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBub3RhczogWwogICAgICAgIF0sCiAgICAgICAgcHJpbzonLTEnLAogICAgICAgIHRleHRvTm90YTonJywKICAgICAgICB0ZXh0b0ZpbHRybzonJywKICAgICAgICBvcmRlbjoiNCIsCiAgICAgICAgY29tcGxldGFkYXM6ZmFsc2UsCiAgICAgICAgdGV4dG9Db21wbGV0YXI6J0NvbXBsZXRhciB0b2RhcycgCiAgICAgIH0KICAgIH0sCiAgICBmaXJlc3RvcmU6IHsKICAgICAgbm90YXM6IGRiLmNvbGxlY3Rpb24oJ25vdGFzJyksCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIGFkZDogZnVuY3Rpb24oZXZlbnQpewogICAgICAgICAgICBpZihldmVudC5rZXlDb2RlID09IDEzKXsKICAgICAgICAgICAgICAgIGRiLmNvbGxlY3Rpb24oJ25vdGFzJykuYWRkKHt0ZXh0OnRoaXMudGV4dG9Ob3RhLG1hcmNhZGE6ZmFsc2UsdGllbXBvOkRhdGUubm93KCkscHJpb3JpZGFkOi0xLCB1c3VhcmlvOiBmaXJlYmFzZS5hdXRoKCkuY3VycmVudFVzZXIuZW1haWx9KTsKICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGFkYXM9ZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLnRleHRvTm90YT0nJzsKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZGVsQ29tcGxldGFkYXM6IGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIC8qdGhpcy5ub3Rhcz10aGlzLm5vdGFzLmZpbHRlcihmdW5jdGlvbihlbGVtZW50byl7CiAgICAgICAgICAgICAgICByZXR1cm4gIWVsZW1lbnRvLm1hcmNhZGE7CiAgICAgICAgICAgIH0pKi8KICAgICAgICB9LAogICAgICAgIGNhbGN1bGFUaWVtcG86IGZ1bmN0aW9uKGluZGV4KXsKICAgICAgICAgICAgdmFyIHRpZW1wbz1uZXcgRGF0ZShEYXRlLm5vdygpLXRoaXMubm90YXNbaW5kZXhdLnRpZW1wbyk7CiAgICAgICAgICAgIHJldHVybiB0aWVtcG8uZ2V0TWludXRlcygpCiAgICAgICAgfSwKICAgICAgICBmb3J6YXJVcGRhdGU6IGZ1bmN0aW9uKCl7CiAgICAgICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOwogICAgICAgIH0sCiAgICAgICAgY29tcFRvZGFzOiBmdW5jdGlvbigpewogICAgICAgICAgICBpZighdGhpcy5jb21wbGV0YWRhcyl7CiAgICAgICAgICAgICAgICB0aGlzLm9yZGVuYXJOb3Rhcy5mb3JFYWNoKChub3RhKT0+ewogICAgICAgICAgICAgICAgICAgIG5vdGEubWFyY2FkYT10cnVlOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRhZGFzPXRydWU7CiAgICAgICAgICAgICAgICB0aGlzLnRleHRvQ29tcGxldGFyPSJEZXNjb21wbGV0YXIgdG9kYXMiCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB0aGlzLm9yZGVuYXJOb3Rhcy5mb3JFYWNoKChub3RhKT0+ewogICAgICAgICAgICAgICAgICAgIG5vdGEubWFyY2FkYT1mYWxzZTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0YWRhcz1mYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMudGV4dG9Db21wbGV0YXI9J0NvbXBsZXRhciB0b2RhcyAnCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGJvcnJhck5vdGE6IGZ1bmN0aW9uKHRvZG8pewogICAgICAgICAgICAgICAgZGIuY29sbGVjdGlvbignbm90YXMnKS5kb2ModG9kbykuZGVsZXRlKCk7CiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgdG90YWxOb3RhczogZnVuY3Rpb24oKXsKICAgICAgICAgICAgcmV0dXJuIHRoaXMubm90YXMubGVuZ3RoCiAgICAgICAgfSwKICAgICAgICBub3Rhc0NvbXBsZXRhZGFzOiBmdW5jdGlvbigpewogICAgICAgICAgICB2YXIgZmlsdHJhZGFzPXRoaXMubm90YXMuZmlsdGVyKGZ1bmN0aW9uKGVsZW1lbnRvKXsKICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50by5tYXJjYWRhPT10cnVlOwogICAgICAgICAgICB9KQogICAgICAgICAgICByZXR1cm4gZmlsdHJhZGFzLmxlbmd0aDsKICAgICAgICB9LAogICAgICAgIG9yZGVuYXJOb3RhczogZnVuY3Rpb24oKXsKICAgICAgICAgICAgaWYodGhpcy5vcmRlbj09IjIiKQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubm90YXMuc2xpY2UoKS5maWx0ZXIoKG5vdGExKT0+ewogICAgICAgICAgICAgICAgICAgIHJldHVybiBub3RhMS50ZXh0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGhpcy50ZXh0b0ZpbHRyby50b0xvd2VyQ2FzZSgpKQogICAgICAgICAgICAgICAgfSkuc29ydCgobm90YTEsbm90YTIpPT57CiAgICAgICAgICAgICAgICAgICAgdmFyIGE9bm90YTEubWFyY2FkYQogICAgICAgICAgICAgICAgICAgIHZhciBiPW5vdGEyLm1hcmNhZGEKICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSA9PSBmYWxzZSA/IDEgOiBhPT1iID8gMCA6IC0xCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgZWxzZSBpZih0aGlzLm9yZGVuPT0iMyIpCiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ub3Rhcy5zbGljZSgpLmZpbHRlcigobm90YTEpPT57CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vdGExLnRleHQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0aGlzLnRleHRvRmlsdHJvLnRvTG93ZXJDYXNlKCkpCiAgICAgICAgICAgICAgICB9KS5zb3J0KChub3RhMSxub3RhMik9PnsKICAgICAgICAgICAgICAgICAgICB2YXIgYT1ub3RhMS5tYXJjYWRhCiAgICAgICAgICAgICAgICAgICAgdmFyIGI9bm90YTIubWFyY2FkYQogICAgICAgICAgICAgICAgICAgIHJldHVybiBhID09IHRydWUgPyAxIDogYT09YiA/IDAgOiAtMQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGVsc2UgaWYodGhpcy5vcmRlbj09IjQiKQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubm90YXMuc2xpY2UoKS5maWx0ZXIoKG5vdGExKT0+ewogICAgICAgICAgICAgICAgICAgIHJldHVybiBub3RhMS50ZXh0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGhpcy50ZXh0b0ZpbHRyby50b0xvd2VyQ2FzZSgpKQogICAgICAgICAgICAgICAgfSkuc29ydCgobm90YTEsbm90YTIpPT57CiAgICAgICAgICAgICAgICAgICAgdmFyIGE9bm90YTEucHJpb3JpZGFkCiAgICAgICAgICAgICAgICAgICAgdmFyIGI9bm90YTIucHJpb3JpZGFkCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEgPCBiID8gMSA6IGEgPT0gYiA/IDAgOiAtMQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGVsc2UgaWYodGhpcy5vcmRlbj09IjUiKQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubm90YXMuc2xpY2UoKS5maWx0ZXIoKG5vdGExKT0+ewogICAgICAgICAgICAgICAgICAgIHJldHVybiBub3RhMS50ZXh0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGhpcy50ZXh0b0ZpbHRyby50b0xvd2VyQ2FzZSgpKQogICAgICAgICAgICAgICAgfSkuc29ydCgobm90YTEsbm90YTIpPT57CiAgICAgICAgICAgICAgICAgICAgdmFyIGE9bm90YTEudGllbXBvCiAgICAgICAgICAgICAgICAgICAgdmFyIGI9bm90YTIudGllbXBvCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEgPCBiID8gMSA6IGEgPT0gYiA/IDAgOiAtMQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGVsc2UgaWYodGhpcy5vcmRlbj09IjUiKQogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubm90YXMuc2xpY2UoKS5maWx0ZXIoKG5vdGExKT0+ewogICAgICAgICAgICAgICAgICAgIHJldHVybiBub3RhMS50ZXh0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXModGhpcy50ZXh0b0ZpbHRyby50b0xvd2VyQ2FzZSgpKQogICAgICAgICAgICAgICAgfSkuc29ydCgobm90YTEsbm90YTIpPT57CiAgICAgICAgICAgICAgICAgICAgdmFyIGE9bm90YTEudGllbXBvCiAgICAgICAgICAgICAgICAgICAgdmFyIGI9bm90YTIudGllbXBvCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEgPiBiID8gMSA6IGEgPT0gYiA/IDAgOiAtMQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJldHVybiB0aGlzLm5vdGFzLnNsaWNlKCkuZmlsdGVyKChub3RhMSk9PnsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm90YTEudGV4dC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHRoaXMudGV4dG9GaWx0cm8udG9Mb3dlckNhc2UoKSkKICAgICAgICAgICAgICAgIH0pLnNvcnQoKG5vdGExLG5vdGEyKT0+ewogICAgICAgICAgICAgICAgdmFyIGE9bm90YTEudGV4dC50b0xvd2VyQ2FzZSgpCiAgICAgICAgICAgICAgICB2YXIgYj1ub3RhMi50ZXh0LnRvTG93ZXJDYXNlKCkKICAgICAgICAgICAgICAgIHJldHVybiBhID4gYiA/IDEgOiBhPT1iID8gMCA6IC0xCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH0KfQoKCg=="},{"version":3,"sources":["mainNota.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"mainNota.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"html\">\n\n  <section class=\"main-nota row col-12\">\n        <div id=\"barraBusqueda\" class=\"col-12 d-flex\">\n            <input type=\"text\" class=\"w-100 m-4\" required v-on:keypress=\"add\" v-model=\"textoNota\" placeholder=\"Texto Nota\">\n        </div>\n        <div id=\"barraFiltro\" class=\"col-12 d-flex\">\n            <input type=\"text\" class=\"w-100 m-4\" v-on:keypress=\"add\" v-model=\"textoFiltro\" placeholder=\"Texto Filtro\">\n        </div>\n        <div class=\"col-12 d-flex justify-content-around\">\n            <p class=\"mb-0\"><a v-on:click=\"compTodas\" href=\"#\">{{ textoCompletar }}</a>| Tienes un total de {{ totalNotas }} | Completadas: {{ notasCompletadas }} <a v-on:click=\"delCompletadas\" href=\"#\">Borrar Completadas</a></p>\n            <select v-model=\"orden\">\n                <option value=\"1\">Alfabetico</option>\n                <option value=\"2\">Completadas</option>\n                <option value=\"3\">Incompletas</option>\n                <option value=\"4\">Prioridad</option>\n                <option value=\"5\">Nueva</option>\n                <option value=\"6\">Antig√ºa</option>\n            </select>\n        </div>\n        <lista @prioridad-cambiada=\"forzarUpdate\" @borrarNota=\"borrarNota\" :ordenarNotas=\"ordenarNotas\"></lista>\n  </section>\n\n</template>\n\n<script lang=\"js\">\nimport lista from './lista.vue'\nimport {db} from '../../db.js'\nimport firebase from 'firebase'\n  export default  {\n    name: 'main-nota',\n    components: {\n      lista\n    },\n    props: [],\n    mounted () {\n    },\n    updated() {\n      localStorage.notas=JSON.stringify(this.notas);\n    },\n    data () {\n      return {\n        notas: [\n        ],\n        prio:'-1',\n        textoNota:'',\n        textoFiltro:'',\n        orden:\"4\",\n        completadas:false,\n        textoCompletar:'Completar todas' \n      }\n    },\n    firestore: {\n      notas: db.collection('notas'),\n    },\n    methods: {\n        add: function(event){\n            if(event.keyCode == 13){\n                db.collection('notas').add({text:this.textoNota,marcada:false,tiempo:Date.now(),prioridad:-1, usuario: firebase.auth().currentUser.email});\n                this.completadas=false;\n                this.textoNota='';\n            }\n        },\n        delCompletadas: function(){\n            /*this.notas=this.notas.filter(function(elemento){\n                return !elemento.marcada;\n            })*/\n        },\n        calculaTiempo: function(index){\n            var tiempo=new Date(Date.now()-this.notas[index].tiempo);\n            return tiempo.getMinutes()\n        },\n        forzarUpdate: function(){\n          this.$forceUpdate();\n        },\n        compTodas: function(){\n            if(!this.completadas){\n                this.ordenarNotas.forEach((nota)=>{\n                    nota.marcada=true;\n                });\n                this.completadas=true;\n                this.textoCompletar=\"Descompletar todas\"\n            } else {\n                this.ordenarNotas.forEach((nota)=>{\n                    nota.marcada=false;\n                });\n                this.completadas=false;\n                this.textoCompletar='Completar todas '\n            }\n        },\n        borrarNota: function(todo){\n                db.collection('notas').doc(todo).delete();\n        }\n    },\n    computed: {\n        totalNotas: function(){\n            return this.notas.length\n        },\n        notasCompletadas: function(){\n            var filtradas=this.notas.filter(function(elemento){\n                return elemento.marcada==true;\n            })\n            return filtradas.length;\n        },\n        ordenarNotas: function(){\n            if(this.orden==\"2\")\n                return this.notas.slice().filter((nota1)=>{\n                    return nota1.text.toLowerCase().includes(this.textoFiltro.toLowerCase())\n                }).sort((nota1,nota2)=>{\n                    var a=nota1.marcada\n                    var b=nota2.marcada\n                    return a == false ? 1 : a==b ? 0 : -1\n                });\n            else if(this.orden==\"3\")\n                return this.notas.slice().filter((nota1)=>{\n                    return nota1.text.toLowerCase().includes(this.textoFiltro.toLowerCase())\n                }).sort((nota1,nota2)=>{\n                    var a=nota1.marcada\n                    var b=nota2.marcada\n                    return a == true ? 1 : a==b ? 0 : -1\n                });\n            else if(this.orden==\"4\")\n                return this.notas.slice().filter((nota1)=>{\n                    return nota1.text.toLowerCase().includes(this.textoFiltro.toLowerCase())\n                }).sort((nota1,nota2)=>{\n                    var a=nota1.prioridad\n                    var b=nota2.prioridad\n                    return a < b ? 1 : a == b ? 0 : -1\n                });\n            else if(this.orden==\"5\")\n                return this.notas.slice().filter((nota1)=>{\n                    return nota1.text.toLowerCase().includes(this.textoFiltro.toLowerCase())\n                }).sort((nota1,nota2)=>{\n                    var a=nota1.tiempo\n                    var b=nota2.tiempo\n                    return a < b ? 1 : a == b ? 0 : -1\n                });\n            else if(this.orden==\"5\")\n                return this.notas.slice().filter((nota1)=>{\n                    return nota1.text.toLowerCase().includes(this.textoFiltro.toLowerCase())\n                }).sort((nota1,nota2)=>{\n                    var a=nota1.tiempo\n                    var b=nota2.tiempo\n                    return a > b ? 1 : a == b ? 0 : -1\n                });\n            return this.notas.slice().filter((nota1)=>{\n                    return nota1.text.toLowerCase().includes(this.textoFiltro.toLowerCase())\n                }).sort((nota1,nota2)=>{\n                var a=nota1.text.toLowerCase()\n                var b=nota2.text.toLowerCase()\n                return a > b ? 1 : a==b ? 0 : -1\n            });\n        }\n    }\n}\n\n\n</script>\n\n<style scoped lang=\"css\">\n  ol{\n    list-style-type: none;\n    padding:0\n  }\n  .fade-out-in-enter-active,\n  .fade-out-in-leave-active {\n    transition: opacity .3s;\n  }\n  .fade-out-in-enter-active {\n    transition-delay: .3s;\n  }\n\n  .fade-out-in-enter,\n  .fade-out-in-leave-to {\n    opacity: 0;\n  }\n</style>\n"]}]}