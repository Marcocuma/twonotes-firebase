{"remainingRequest":"/home/administrador/Documentos/twonotes-firebase/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/administrador/Documentos/twonotes-firebase/src/components/noticias.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/administrador/Documentos/twonotes-firebase/src/components/noticias.vue","mtime":1580801261990},{"path":"/home/administrador/Documentos/twonotes-firebase/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/administrador/Documentos/twonotes-firebase/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/administrador/Documentos/twonotes-firebase/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/administrador/Documentos/twonotes-firebase/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKICBpbXBvcnQgbm90aWNpYSBmcm9tICcuL25vdGljaWEudnVlJwogIGNvbnN0IGF4aW9zID0gcmVxdWlyZSgnYXhpb3MnKQogIGltcG9ydCBKUXVlcnkgZnJvbSAnanF1ZXJ5JwogIGxldCAkID0gSlF1ZXJ5CiAgZXhwb3J0IGRlZmF1bHQgIHsKICAgIG5hbWU6ICdub3RpY2lhcycsCiAgICBwcm9wczogW10sCiAgICBjb21wb25lbnRzOiB7CiAgICAgIG5vdGljaWEsCiAgICB9LAogICAgdXBkYXRlZCAoKSB7CiAgICAgIHRoaXMuYmxvcXVlbz1mYWxzZTsKICAgIH0sCiAgICBtb3VudGVkICgpIHsKICAgICAgYXhpb3MuZ2V0KCdodHRwczovL25ld3NhcGkub3JnL3YyL2V2ZXJ5dGhpbmc/bGFuZ3VhamU9ZXMmZG9tYWlucz1lbHBhaXMuY29tLGVsbXVuZG8uZXMsZWxjb3J0b2RpZ2l0YWwuZXMsaWRlYWwuZXMmcGFnZT0xJmFwaUtleT1lODU5YWNjYjY4MTY0NjY5OGI1YmE2ZjFlOGIyM2JhOCcpCiAgICAgIC50aGVuKHJlc3BvbnNlID0+ewogICAgICAgIHRoaXMuaW1wb3J0YW50ZXMgPSByZXNwb25zZS5kYXRhLmFydGljbGVzLnNsaWNlKDAsNykKICAgICAgICB0aGlzLm5vdGljaWFzID0gcmVzcG9uc2UuZGF0YS5hcnRpY2xlcy5zbGljZSg3LHJlc3BvbnNlLmRhdGEuYXJ0aWNsZXMubGVuZ3RoLTEpCiAgICAgIH0pCiAgICAgICQod2luZG93KS5zY3JvbGwodGhpcy5jb21wcm9iYXJCbG9xdWVvKTsKICAgIH0sCiAgICBkYXRhICgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBpbXBvcnRhbnRlczpbXSwKICAgICAgICBub3RpY2lhczpbXSwKICAgICAgICBibG9xdWVvOmZhbHNlLAogICAgICAgIHBhZ2U6MiwKICAgICAgICB0ZXh0b0ZpbHRybzonJwogICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICBjb21wcm9iYXJCbG9xdWVvOmZ1bmN0aW9uKCl7CiAgICAgICAgICBpZighdGhpcy5ibG9xdWVvJiZ0aGlzLnBhZ2U8NikKICAgICAgICAgICAgICB0aGlzLmNhcmdhck5vdGljaWFzKCk7CiAgICAgIH0sCiAgICAgIGNhcmdhck5vdGljaWFzOiBmdW5jdGlvbigpewogICAgICAgIGlmKCgkKHdpbmRvdykuc2Nyb2xsVG9wKCkgKyAkKHdpbmRvdykuaGVpZ2h0KCkgPj0gJChkb2N1bWVudCkuaGVpZ2h0KCktMTAwKSl7CiAgICAgICAgICB0aGlzLmJsb3F1ZW89dHJ1ZTsKICAgICAgICAgIHZhciBsaW5rOwogICAgICAgICAgaWYodGhpcy50ZXh0b0ZpbHRybykKICAgICAgICAgICAgbGluaz0naHR0cHM6Ly9uZXdzYXBpLm9yZy92Mi9ldmVyeXRoaW5nP2xhbmd1YWplPWVzJnFJblRpdGxlPScrdGhpcy50ZXh0b0ZpbHRybwogICAgICAgICAgZWxzZQogICAgICAgICAgICBsaW5rPSdodHRwczovL25ld3NhcGkub3JnL3YyL2V2ZXJ5dGhpbmc/bGFuZ3VhamU9ZXMnCiAgICAgICAgICBsaW5rKz0nJmRvbWFpbnM9ZWxwYWlzLmNvbSxlbG11bmRvLmVzLGlkZWFsLmVzJnBhZ2U9Jyt0aGlzLnBhZ2UrJyZhcGlLZXk9ZTg1OWFjY2I2ODE2NDY2OThiNWJhNmYxZThiMjNiYTgnCiAgICAgICAgICBheGlvcy5nZXQobGluaykKICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+ewogICAgICAgICAgICB0aGlzLm5vdGljaWFzPXRoaXMubm90aWNpYXMuY29uY2F0KHJlc3BvbnNlLmRhdGEuYXJ0aWNsZXMpCiAgICAgICAgICB9KQogICAgICAgICAgdGhpcy5wYWdlKys7CiAgICAgICAgfQogICAgICB9LAogICAgICBhcGxpY2FyRmlsdHJvOiBmdW5jdGlvbihldmVudCl7CiAgICAgICAgaWYoZXZlbnQua2V5Q29kZSA9PSAxMyl7CiAgICAgICAgICB0aGlzLnBhZ2U9MQogICAgICAgICAgdmFyIGxpbms7CiAgICAgICAgICBpZih0aGlzLnRleHRvRmlsdHJvKQogICAgICAgICAgICBsaW5rPSdodHRwczovL25ld3NhcGkub3JnL3YyL2V2ZXJ5dGhpbmc/bGFuZ3VhamU9ZXMmcUluVGl0bGU9Jyt0aGlzLnRleHRvRmlsdHJvCiAgICAgICAgICBlbHNlCiAgICAgICAgICAgIGxpbms9J2h0dHBzOi8vbmV3c2FwaS5vcmcvdjIvZXZlcnl0aGluZz9sYW5ndWFqZT1lcycKICAgICAgICAgIGxpbmsrPScmZG9tYWlucz1lbHBhaXMuY29tLGVsbXVuZG8uZXMsaWRlYWwuZXMmcGFnZT0nK3RoaXMucGFnZSsnJmFwaUtleT1lODU5YWNjYjY4MTY0NjY5OGI1YmE2ZjFlOGIyM2JhOCcKICAgICAgICAgIGF4aW9zLmdldChsaW5rKQogICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PnsKICAgICAgICAgICAgICB0aGlzLm5vdGljaWFzPXJlc3BvbnNlLmRhdGEuYXJ0aWNsZXMuc2xpY2UoNyxyZXNwb25zZS5kYXRhLmFydGljbGVzLmxlbmd0aC0xKQogICAgICAgICAgICB9KQogICAgICAgICAgdGhpcy5wYWdlKysKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBjb21wdXRlZDogewogICAgfQp9CgoK"},{"version":3,"sources":["noticias.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"noticias.vue","sourceRoot":"src/components","sourcesContent":["<template lang=\"html\">\n\n  <section class=\"noticias p-2\">\n    <h1 class=\"text-center\">Noticias</h1>\n    <div id=\"carouselId\" class=\"carousel slide m-md-3\" data-ride=\"carousel\">\n        <ol class=\"carousel-indicators\">\n            <li data-target=\"#carouselId\" data-slide-to=\"0\" class=\"active\"></li>\n            <li data-target=\"#carouselId\" data-slide-to=\"1\"></li>\n            <li data-target=\"#carouselId\" data-slide-to=\"2\"></li>\n            <li data-target=\"#carouselId\" data-slide-to=\"3\"></li>\n            <li data-target=\"#carouselId\" data-slide-to=\"4\"></li>\n            <li data-target=\"#carouselId\" data-slide-to=\"5\"></li>\n            <li data-target=\"#carouselId\" data-slide-to=\"6\"></li>\n        </ol>\n        <div class=\"carousel-inner\" role=\"listbox\">\n            <div class=\"carousel-item\" :class=\"[ index == 0 ? 'active' : '' ]\" v-for=\"(contenido,index) in importantes\" :key='index'>\n                <img :src='contenido.urlToImage' alt=\"First slide\">\n                <div class=\"carousel-caption d-none d-md-block\">\n                  <h5>{{ contenido.title }}</h5>\n                  <p>{{ contenido.description }}</p>\n                  <a name=\"readMore\" id=\"leerMas\" target=\"_blank\" class=\"btn btn-primary\" :href='contenido.url' role=\"button\">Leer m√°s</a>\n                </div>\n            </div>\n        </div>\n        <a class=\"carousel-control-prev\" href=\"#carouselId\" role=\"button\" data-slide=\"prev\">\n            <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n            <span class=\"sr-only\">Previous</span>\n        </a>\n        <a class=\"carousel-control-next\" href=\"#carouselId\" role=\"button\" data-slide=\"next\">\n            <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n            <span class=\"sr-only\">Next</span>\n        </a>\n    </div>\n    <div class=\"row m-0\">\n      <label for=\"filtro\" class=\"m-0 col-12 col-md-2\">Filtro: </label>\n      <input id=\"filtro\" class=\"col-12 col-md-10\" v-on:keypress=\"aplicarFiltro\" v-model=\"textoFiltro\" placeholder=\"Pulsa intro para filtrar\"/>\n    </div>\n    <div class=\"row m-0\">\n      <noticia v-for=\"contenido in noticias\" :key='contenido.url' :contenido='contenido' :clases='\"card col-12 col-md-6 col-lg-4 col-xl-3 p-0 mt-3\"'></noticia>\n    </div>\n  </section>\n\n</template>\n\n<script lang=\"js\">\n  import noticia from './noticia.vue'\n  const axios = require('axios')\n  import JQuery from 'jquery'\n  let $ = JQuery\n  export default  {\n    name: 'noticias',\n    props: [],\n    components: {\n      noticia,\n    },\n    updated () {\n      this.bloqueo=false;\n    },\n    mounted () {\n      axios.get('https://newsapi.org/v2/everything?languaje=es&domains=elpais.com,elmundo.es,elcortodigital.es,ideal.es&page=1&apiKey=e859accb681646698b5ba6f1e8b23ba8')\n      .then(response =>{\n        this.importantes = response.data.articles.slice(0,7)\n        this.noticias = response.data.articles.slice(7,response.data.articles.length-1)\n      })\n      $(window).scroll(this.comprobarBloqueo);\n    },\n    data () {\n      return {\n        importantes:[],\n        noticias:[],\n        bloqueo:false,\n        page:2,\n        textoFiltro:''\n      }\n    },\n    methods: {\n      comprobarBloqueo:function(){\n          if(!this.bloqueo&&this.page<6)\n              this.cargarNoticias();\n      },\n      cargarNoticias: function(){\n        if(($(window).scrollTop() + $(window).height() >= $(document).height()-100)){\n          this.bloqueo=true;\n          var link;\n          if(this.textoFiltro)\n            link='https://newsapi.org/v2/everything?languaje=es&qInTitle='+this.textoFiltro\n          else\n            link='https://newsapi.org/v2/everything?languaje=es'\n          link+='&domains=elpais.com,elmundo.es,ideal.es&page='+this.page+'&apiKey=e859accb681646698b5ba6f1e8b23ba8'\n          axios.get(link)\n          .then(response =>{\n            this.noticias=this.noticias.concat(response.data.articles)\n          })\n          this.page++;\n        }\n      },\n      aplicarFiltro: function(event){\n        if(event.keyCode == 13){\n          this.page=1\n          var link;\n          if(this.textoFiltro)\n            link='https://newsapi.org/v2/everything?languaje=es&qInTitle='+this.textoFiltro\n          else\n            link='https://newsapi.org/v2/everything?languaje=es'\n          link+='&domains=elpais.com,elmundo.es,ideal.es&page='+this.page+'&apiKey=e859accb681646698b5ba6f1e8b23ba8'\n          axios.get(link)\n            .then(response =>{\n              this.noticias=response.data.articles.slice(7,response.data.articles.length-1)\n            })\n          this.page++\n        }\n      }\n    },\n    computed: {\n    }\n}\n\n\n</script>\n\n<style scoped lang=\"css\">\n@import url('https://fonts.googleapis.com/css?family=Tinos&display=swap');\n  .noticias {\n    font-family: 'Tinos', serif;\n  }\n  .carousel-inner{\n      height: 40vw ;\n  }\n  .carousel-item img,.carousel-item{\n      height: 100%;\n      width: 100%;\n  }\n  .carousel-caption{\n    background-color: rgba(128, 128, 128, 0.596);\n  }\n  .carousel-caption p{\n    font-size: 0.7em;\n  }\n  .carousel-control-next:hover{\n    background: rgb(200,200,200);\n    background: linear-gradient(90deg, rgba(200,200,200,0) 0%, rgba(190,190,190,0.5) 100%);\n  }\n  .carousel-control-prev:hover{\n    background: rgb(200,200,200);\n    background: linear-gradient(90deg, rgba(200,200,200,0.5) 0%, rgba(190,190,190,0) 100%);\n  }\n  .slide-fade-enter-active {\n    transition: all .9s ease;\n  }\n  .slide-fade-leave-active {\n    transition: all .3s cubic-bezier(1.0, 0.5, 0.8, 1.0);\n  }\n  .slide-fade-enter, .slide-fade-leave-to\n  /* .slide-fade-leave-active below version 2.1.8 */ {\n    transform: translateX(10px);\n    opacity: 0;\n  }\n</style>\n"]}]}